# Примитивная база данных

Простая база данных для управления таблицами с поддержкой типов данных: int, str, bool.

## Описание

Интерактивная консольная утилита для работы с таблицами:
- Создание, просмотр и удаление таблиц
- CRUD-операции с данными (INSERT, SELECT, UPDATE, DELETE)
- Автоматическая генерация ID
- Хранение данных в JSON-файлах

## Установка и запуск

# Клонирование репозитория
git clone https://github.com/ksenofkv/project-2_Ksenofontov_Konstantin_M25-555.git

```bash
# Установка
poetry install

# Запуск
poetry run database

# Или через Makefile
make database
make demo_final  # полный сценарий работы с базой данных
make demo_1     # демонстрация управления таблицами
make demo_2     # демонстрация CRUD-операций
```

## Команды

### Управление таблицами

- `create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ...` — создать таблицу
- `list_tables` — список всех таблиц
- `drop_table <имя_таблицы>` — удалить таблицу

### CRUD-операции

- `insert into <имя_таблицы> values (<значение1>, <значение2>, ...)` — создать запись
- `select from <имя_таблицы>` — прочитать все записи
- `select from <имя_таблицы> where <столбец> = <значение>` — прочитать записи по условию
- `update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия>` — обновить запись
- `delete from <имя_таблицы> where <столбец> = <значение>` — удалить запись
- `info <имя_таблицы>` — информация о таблице

### Типы данных

- `int` — целые числа
- `str` — строки
- `bool` — логические значения (true/false, 1/0, yes/no)

Столбец `ID:int` добавляется автоматически.

## Примеры

```bash
>>> create_table users name:str age:int is_active:bool
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool

>>> insert into users values ("Sergei", 28, true)
Запись с ID=1 успешно добавлена в таблицу "users".

>>> select from users
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei |  28 |    True   |
+----+--------+-----+-----------+

>>> update users set age = 29 where name = "Sergei"
Запись с ID=1 в таблице "users" успешно обновлена.

>>> delete from users where ID = 1
Запись с ID=1 успешно удалена из таблицы "users".
```

## Демонстрация


```bash
make demo_final  # полный сценарий работы с базой данных
make demo_1      # управление таблицами
make demo_2      # CRUD-операции
make demo_3      # декораторы и обработка ошибок
```

## Технические детали

Метаданные хранятся в `db_meta.json`, данные таблиц — в `data/<имя_таблицы>.json`.

## Автор

Константин Ксенофонтов# project-2_Ksenofontov_Konstantin_M25-555
# project-2_Ksenofontov_Konstantin_M25-555

